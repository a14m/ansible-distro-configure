---
argument_specs:
  main:
    options:
      pihole_password:
        type: "str"
        description: "The pi-hole web-server plain text password (double sha265 hashed) default: changeme"
        default: "{{ ('changeme' | hash('sha256') | hash('sha256'))[:64] }}"
      pihole_totp_secret:
        type: "str"
        description: "The pi-hole TOTP 2FA secret"
        default: "CHANGEME"
      pihole_dns:
        type: "list"
        description: "The list of DNS servers to use as upstreams"
        elements: "str"
        default:
          # Cloudflare
          - "1.1.1.1"
          - "2606:4700:4700::1111"
          # Google
          - "8.8.8.8"
          - "2001:4860:4860:0:0:0:0:8888"
      pihole_interface:
        type: "str"
        description: "The interface to bind the pi-hole on"
        default: "{{ ansible_default_ipv4.interface }}"
      pihole_dns_blocking_enabled:
        type: "bool"
        description: "The boolean flag to toggle DNS blocking"
        default: true
      pihole_dhcp_enabled:
        type: "bool"
        description: "The boolean flag to toggle DHCP on the pi-hole"
        default: false
      pihole_dhcp_start:
        type: "str"
        description: "The dhcp start address"
        default: "{{ ansible_default_ipv4.network }}.100"
      pihole_dhcp_end:
        type: "str"
        description: "The dhcp end address"
        default: "{{ ansible_default_ipv4.network }}.199"
      pihole_dhcp_router:
        type: "str"
        description: "The dhcp server router (gateway) address"
        default: "{{ ansible_default_ipv4.address }}"
      pihole_dhcp_lease_time:
        type: "str"
        description: "The dhcp lease time string ex. ('45m', '1h', '2d', '1w') empty defaults to dnsmasq default"
        default: ""
      pihole_dhcp_domain:
        type: "str"
        description: "The dhcp local domain extension"
        default: "local"
      pihole_dhcp_hosts:
        type: "list"
        description: "The list of static DHCP host reservations (format: MAC,IP,hostname)"
        elements: "str"
        default: []
      pihole_domain:
        type: "str"
        description: "The domain name to be configured when the pi is exposed over the internet"
        default: ""
