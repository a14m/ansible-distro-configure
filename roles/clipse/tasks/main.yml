---
- name: "Ensure wl-clipboard is installed"
  become: true
  ansible.builtin.package:
    name: "wl-clipboard"
    state: "present"

- name: "Ensure clipse is installed"
  become: true
  become_user: "aur_builder"
  kewlfft.aur.aur:
    name: "clipse"
    state: "present"
    use: "yay"

- name: "Create system config directory"
  ansible.builtin.file:
    path: "{{ ansible_facts['env']['HOME'] }}/.config/clipse"
    state: "directory"
    mode: "0755"

- name: "Configure system defaults"
  ansible.builtin.copy:
    src: "config.json"
    dest: "{{ ansible_facts['env']['HOME'] }}/.config/clipse/config.json"
    mode: "0644"
